# Cache
cache:
  directories:
    - vendor

# Branches to build
branches:
  only:
    - master

# Prepare build
before_install:
  - chmod +x ./scripts/travis/server.sh ./scripts/travis/ui.sh

# install dependencies
install:
  - pip install --user codecov

# Skip before_script
before_script: true

# Build matrix
matrix:
  include:
    - language: php
      php: 7.0
      script: ./scripts/travis/server.sh
    - language: php
      php: 7.0.10
      script: ./scripts/travis/server.sh
    - language: node_js
      node_js: "6.0.0"
      script: ./scripts/travis/ui.sh
    - language: node_js
      node_js: "6.0.0"
      script: ./scripts/travis/ui.sh

after_success: true
